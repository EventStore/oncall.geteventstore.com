define(["libs/knockout"],function(a){return function(b){function c(){var a=new XMLHttpRequest;a.open("GET",window.Config.APIBaseUrl+"agents/?includeHidden="+d.showHiddenAgents(),!0),a.setRequestHeader("Accept","application/json"),a.setRequestHeader("Authorization",userAccessKey),a.onload=function(){if(this.status>=200&&this.status<400){var a=JSON.parse(this.response);d.supportAgents(a)}},a.onerror=function(){},a.send()}var d=this;console.log("Support Agent List Params:",b),d.agentSelectionChanged=b.selectedCallback||function(){},d.supportAgents=a.observableArray([]),d.selectedAgentId=a.observable(""),d.selectedAgentColour=a.observable(""),d.showHiddenAgents=a.observable(!1),d.agentClicked=function(a){a.id===d.selectedAgentId()?(d.agentSelectionChanged(void 0,void 0,void 0),d.selectedAgentId(void 0),d.selectedAgentColour(void 0),console.log(a)):(d.agentSelectionChanged(a.id,a.firstName+" "+a.lastName,a.assignedColour),d.selectedAgentId(a.id),d.selectedAgentColour(a.assignedColour),console.log(a))},d.addAgent=function(a){d.supportAgents.push(a)},d.showHideAgents=function(){d.showHiddenAgents(d.showHiddenAgents()?!1:!0),c()},c()}});